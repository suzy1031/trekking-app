<% visitor = notification.visitor %>
<% visited = notification.visited %>

<%= link_to user_path(visitor) do %>
  <%= visitor.nickname %>"さんが"
  <% case notification.action when 'follow' %>
      あなたをフォローしました

    <% when 'like' then %>
      <%= link_to 'あなたの投稿', notification.post %>
      にいいねしました

    <% when 'comment' then %>
      <% if notification.post.user_id == visited.id %>
        <%= link_to 'あなたの投稿', notification.post %>
      <%else%>
        <%= link_to post_path(notification.post) do %>
          <%= notification.post.user.nickname %>さんの投稿にコメントしました
          <% Comment.find_by(id: notification.comment_id)&.comment %>
        <% end %>
      <% end %>

  <% end %>
<% end %>